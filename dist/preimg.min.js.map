{"version":3,"sources":["core/preimg.js"],"names":["global","factory","exports","module","define","amd","this","arr","imgloadpost","loaded","length","postaction","imgs","img","Object","prototype","toString","apply","i","Image","src","complete","onload","onerror","done","f"],"mappings":"CACA,SAAUA,EAAQC,GACO,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAAKD,UAAWH,GACpC,iBAAZC,QAAsBA,QAAgB,OAAID,IACrDD,EAAe,OAAIC,IAL1B,CAMGK,KAAM,WACP,aAwCA,OAtCA,SAAgBC,GAQd,SAASC,MACPC,IACeF,EAAIG,QACjBC,EAAWC,GAVf,IACEC,EADED,KAEFH,EAAS,EACPE,EAAa,aACjBJ,EAC2C,mBAAzCO,OAAOC,UAAUC,SAASC,MAAMV,GAA4BA,GAAOA,GASrE,IAAK,IAAIW,EAAI,EAAGA,EAAIX,EAAIG,OAAQQ,KAC9BL,EAAMD,EAAKM,GAAK,IAAIC,OAChBC,IAAMb,EAAIW,GAEVL,EAAIQ,SACNb,KAEAK,EAAIS,OAAS,WACXd,KAEFK,EAAIU,QAAU,WACZf,MAKN,OACEgB,KAAM,SAASC,GACbd,EAAac,GAAKd","file":"preimg.min.js","sourcesContent":["/* preimg v0.0.1 | (c) 2017 by Graydalf | Released under the MIT License*/\n(function(global, factory) {\n  if (typeof exports === 'object' && typeof module === 'object')\n    module.exports = factory();\n  else if (typeof define === 'function' && define.amd) define([], factory);\n  else if (typeof exports === 'object') exports['preimg'] = factory();\n  else global['preimg'] = factory();\n})(this, function() {\n  'use strict';\n\n  function preimg(arr) {\n    var imgs = [],\n      img,\n      loaded = 0;\n    var postaction = function() {};\n    arr =\n      Object.prototype.toString.apply(arr) === '[object Array]' ? arr : [arr];\n\n    function imgloadpost() {\n      loaded++;\n      if (loaded === arr.length) {\n        postaction(imgs);\n      }\n    }\n\n    for (var i = 0; i < arr.length; i++) {\n      img = imgs[i] = new Image();\n      img.src = arr[i];\n\n      if (img.complete) {\n        imgloadpost();\n      } else {\n        img.onload = function() {\n          imgloadpost();\n        };\n        img.onerror = function() {\n          imgloadpost();\n        };\n      }\n    }\n\n    return {\n      done: function(f) {\n        postaction = f || postaction;\n      }\n    };\n  }\n\n  return preimg;\n});\n"]}